# =============================================================================
# üè† HOSPEDA - CENTRALIZED ENVIRONMENT VARIABLES
# =============================================================================
# These are the "source of truth" variables that get mapped to client-side
# variables automatically by the @repo/config plugin
#
# üî¥ REQUIRED variables must be set for the application to work
# üü° OPTIONAL variables have sensible defaults

# =============================================================================
# üåç GENERAL CONFIGURATION
# =============================================================================
NODE_ENV=development                                    # üü° OPTIONAL (default: development)

# =============================================================================
# üåê API & SITE CONFIGURATION (Shared across apps)
# =============================================================================
HOSPEDA_API_URL=http://localhost:3001                  # üî¥ REQUIRED - API base URL (maps to PUBLIC_API_URL, VITE_API_URL)
HOSPEDA_SITE_URL=http://localhost:4321                 # üî¥ REQUIRED - Frontend site URL (maps to PUBLIC_SITE_URL)

# API-specific Configuration
API_PORT=3001                                          # üü° OPTIONAL (default: 3001)
API_HOST=localhost                                     # üü° OPTIONAL (default: localhost)

# =============================================================================
# üîê AUTHENTICATION (Clerk) - Shared + App-specific
# =============================================================================
HOSPEDA_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_your_key_here    # üî¥ REQUIRED - Clerk publishable key (exposed to client)
HOSPEDA_DEBUG_ACTOR_ID=00000000-0000-4000-y000-000000000000  # üü° OPTIONAL - Debug actor ID (maps to VITE_DEBUG_ACTOR_ID)
HOSPEDA_CLERK_SECRET_KEY=sk_test_your_secret_here      # üî¥ REQUIRED - Clerk secret key (server-only)
HOSPEDA_CLERK_WEBHOOK_SECRET=whsec_your_webhook_secret # üü° OPTIONAL - Only if using webhooks

# =============================================================================
# üåç INTERNATIONALIZATION (Shared across apps)
# =============================================================================
HOSPEDA_PUBLIC_SUPPORTED_LOCALES=en,es                 # üü° OPTIONAL - Supported locales (exposed to client)
HOSPEDA_PUBLIC_DEFAULT_LOCALE=en                       # üü° OPTIONAL - Default locale (exposed to client)

# =============================================================================
# üíæ DATABASE CONFIGURATION
# =============================================================================
HOSPEDA_DATABASE_URL=postgresql://user:password@localhost:5432/hospeda  # üî¥ REQUIRED

# Database Pool Configuration (API-specific)
DB_POOL_MAX_CONNECTIONS=10                             # üü° OPTIONAL (default: 10)
DB_POOL_IDLE_TIMEOUT_MS=30000                          # üü° OPTIONAL (default: 30000)
DB_POOL_CONNECTION_TIMEOUT_MS=2000                     # üü° OPTIONAL (default: 2000)

# =============================================================================
# üìù LOGGING CONFIGURATION (API-specific)
# =============================================================================
API_LOG_LEVEL=info                                     # üü° OPTIONAL (default: info)
API_ENABLE_REQUEST_LOGGING=true                        # üü° OPTIONAL (default: true)

# Log Formatting (API-specific)
API_LOG_INCLUDE_TIMESTAMPS=true                        # üü° OPTIONAL (default: true)
API_LOG_INCLUDE_LEVEL=true                             # üü° OPTIONAL (default: true)
API_LOG_USE_COLORS=true                                # üü° OPTIONAL (default: true)
API_LOG_SAVE=false                                     # üü° OPTIONAL (default: false)
API_LOG_EXPAND_OBJECTS=false                           # üü° OPTIONAL (default: false)
API_LOG_TRUNCATE_TEXT=true                             # üü° OPTIONAL (default: true)
API_LOG_TRUNCATE_AT=1000                               # üü° OPTIONAL (default: 1000)
API_LOG_STRINGIFY=false                                # üü° OPTIONAL (default: false)

# =============================================================================
# üîó CORS CONFIGURATION (API-specific)
# =============================================================================
API_CORS_ORIGINS=http://localhost:3000,http://localhost:4321,http://localhost:5173,http://localhost:4173  # üü° OPTIONAL
API_CORS_ALLOW_CREDENTIALS=true                        # üü° OPTIONAL (default: true)
API_CORS_MAX_AGE=86400                                 # üü° OPTIONAL (default: 86400)
API_CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS   # üü° OPTIONAL
API_CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Requested-With,x-actor-id,x-user-id  # üü° OPTIONAL
API_CORS_EXPOSE_HEADERS=Content-Length,X-Request-ID    # üü° OPTIONAL

# =============================================================================
# üíæ CACHE CONFIGURATION (API-specific)
# =============================================================================
API_CACHE_ENABLED=false                                # üü° OPTIONAL (default: true, disabled for dev)
API_CACHE_DEFAULT_MAX_AGE=300                          # üü° OPTIONAL (default: 300)
API_CACHE_DEFAULT_STALE_WHILE_REVALIDATE=60            # üü° OPTIONAL (default: 60)
API_CACHE_DEFAULT_STALE_IF_ERROR=86400                 # üü° OPTIONAL (default: 86400)
API_CACHE_PUBLIC_ENDPOINTS=/api/v1/public/accommodations,/health  # üü° OPTIONAL
API_CACHE_PRIVATE_ENDPOINTS=/api/v1/public/users       # üü° OPTIONAL
API_CACHE_NO_CACHE_ENDPOINTS=/health/db,/docs          # üü° OPTIONAL
API_CACHE_ETAG_ENABLED=true                            # üü° OPTIONAL (default: true)
API_CACHE_LAST_MODIFIED_ENABLED=true                   # üü° OPTIONAL (default: true)

# =============================================================================
# üóúÔ∏è COMPRESSION CONFIGURATION (API-specific)
# =============================================================================
API_COMPRESSION_ENABLED=true                           # üü° OPTIONAL (default: true)
API_COMPRESSION_LEVEL=6                                # üü° OPTIONAL (default: 6, range: 1-9)
API_COMPRESSION_THRESHOLD=1024                         # üü° OPTIONAL (default: 1024 bytes)
API_COMPRESSION_CHUNK_SIZE=16384                       # üü° OPTIONAL (default: 16KB)
API_COMPRESSION_FILTER=text/*,application/json,application/xml,application/javascript  # üü° OPTIONAL
API_COMPRESSION_EXCLUDE_ENDPOINTS=/health/db,/docs     # üü° OPTIONAL
API_COMPRESSION_ALGORITHMS=gzip,deflate                # üü° OPTIONAL

# =============================================================================
# üö¶ RATE LIMITING CONFIGURATION (API-specific)
# =============================================================================
# General Rate Limiting
API_RATE_LIMIT_ENABLED=true                            # üü° OPTIONAL (default: true)
API_RATE_LIMIT_WINDOW_MS=900000                        # üü° OPTIONAL (default: 15 minutes)
API_RATE_LIMIT_MAX_REQUESTS=100                        # üü° OPTIONAL (default: 100)
API_RATE_LIMIT_KEY_GENERATOR=ip                        # üü° OPTIONAL (default: ip, options: ip, user, custom)
API_RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false          # üü° OPTIONAL (default: false)
API_RATE_LIMIT_SKIP_FAILED_REQUESTS=false              # üü° OPTIONAL (default: false)
API_RATE_LIMIT_STANDARD_HEADERS=true                   # üü° OPTIONAL (default: true)
API_RATE_LIMIT_LEGACY_HEADERS=false                    # üü° OPTIONAL (default: false)
API_RATE_LIMIT_MESSAGE=Too many requests, please try again later.  # üü° OPTIONAL

# Auth Endpoints Rate Limiting (more permissive)
API_RATE_LIMIT_AUTH_ENABLED=true                       # üü° OPTIONAL (default: true)
API_RATE_LIMIT_AUTH_WINDOW_MS=300000                   # üü° OPTIONAL (default: 5 minutes)
API_RATE_LIMIT_AUTH_MAX_REQUESTS=50                    # üü° OPTIONAL (default: 50)
API_RATE_LIMIT_AUTH_MESSAGE=Too many authentication requests, please try again later.  # üü° OPTIONAL

# Public API Rate Limiting (more restrictive)
API_RATE_LIMIT_PUBLIC_ENABLED=true                     # üü° OPTIONAL (default: true)
API_RATE_LIMIT_PUBLIC_WINDOW_MS=3600000                # üü° OPTIONAL (default: 1 hour)
API_RATE_LIMIT_PUBLIC_MAX_REQUESTS=1000                # üü° OPTIONAL (default: 1000)
API_RATE_LIMIT_PUBLIC_MESSAGE=Too many API requests, please try again later.  # üü° OPTIONAL

# Admin Endpoints Rate Limiting (most restrictive)
API_RATE_LIMIT_ADMIN_ENABLED=true                      # üü° OPTIONAL (default: true)
API_RATE_LIMIT_ADMIN_WINDOW_MS=600000                  # üü° OPTIONAL (default: 10 minutes)
API_RATE_LIMIT_ADMIN_MAX_REQUESTS=200                  # üü° OPTIONAL (default: 200)
API_RATE_LIMIT_ADMIN_MESSAGE=Too many admin requests, please try again later.  # üü° OPTIONAL

# =============================================================================
# üîí SECURITY CONFIGURATION (API-specific)
# =============================================================================
API_SECURITY_ENABLED=true                              # üü° OPTIONAL (default: true)
API_SECURITY_CSRF_ENABLED=true                         # üü° OPTIONAL (default: true)
API_SECURITY_CSRF_ORIGIN=                              # üü° OPTIONAL (URL)
API_SECURITY_CSRF_ORIGINS=http://localhost:3000,http://localhost:5173  # üü° OPTIONAL
API_SECURITY_HEADERS_ENABLED=true                      # üü° OPTIONAL (default: true)
API_SECURITY_CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';  # üü° OPTIONAL
API_SECURITY_STRICT_TRANSPORT_SECURITY=max-age=31536000; includeSubDomains  # üü° OPTIONAL
API_SECURITY_X_FRAME_OPTIONS=SAMEORIGIN                # üü° OPTIONAL (options: DENY, SAMEORIGIN, ALLOW-FROM)
API_SECURITY_X_CONTENT_TYPE_OPTIONS=nosniff            # üü° OPTIONAL
API_SECURITY_X_XSS_PROTECTION=1; mode=block            # üü° OPTIONAL
API_SECURITY_REFERRER_POLICY=strict-origin-when-cross-origin  # üü° OPTIONAL
API_SECURITY_PERMISSIONS_POLICY=camera=(), microphone=(), geolocation=()  # üü° OPTIONAL

# =============================================================================
# üì§ RESPONSE CONFIGURATION (API-specific)
# =============================================================================
API_RESPONSE_FORMAT_ENABLED=true                       # üü° OPTIONAL (default: true)
API_RESPONSE_INCLUDE_TIMESTAMP=true                    # üü° OPTIONAL (default: true)
API_RESPONSE_INCLUDE_VERSION=true                      # üü° OPTIONAL (default: true)
API_RESPONSE_API_VERSION=1.0.0                         # üü° OPTIONAL (default: 1.0.0)
API_RESPONSE_INCLUDE_REQUEST_ID=true                   # üü° OPTIONAL (default: true)
API_RESPONSE_INCLUDE_METADATA=true                     # üü° OPTIONAL (default: true)
API_RESPONSE_SUCCESS_MESSAGE=Success                   # üü° OPTIONAL (default: Success)
API_RESPONSE_ERROR_MESSAGE=An error occurred           # üü° OPTIONAL (default: An error occurred)

# =============================================================================
# ‚úÖ VALIDATION CONFIGURATION (API-specific)
# =============================================================================
API_VALIDATION_MAX_BODY_SIZE=10485760                  # üü° OPTIONAL (default: 10MB in bytes)
API_VALIDATION_MAX_REQUEST_TIME=30000                  # üü° OPTIONAL (default: 30 seconds)
API_VALIDATION_ALLOWED_CONTENT_TYPES=application/json,multipart/form-data  # üü° OPTIONAL
API_VALIDATION_REQUIRED_HEADERS=user-agent             # üü° OPTIONAL
API_VALIDATION_CLERK_AUTH_ENABLED=true                 # üü° OPTIONAL (default: true)
API_VALIDATION_CLERK_AUTH_HEADERS=authorization        # üü° OPTIONAL
API_VALIDATION_SANITIZE_ENABLED=true                   # üü° OPTIONAL (default: true)
API_VALIDATION_SANITIZE_MAX_STRING_LENGTH=1000         # üü° OPTIONAL (default: 1000)
API_VALIDATION_SANITIZE_REMOVE_HTML_TAGS=true          # üü° OPTIONAL (default: true)
API_VALIDATION_SANITIZE_ALLOWED_CHARS=[\\w\\s\\-.,!?@#$%&*()+=]  # üü° OPTIONAL

# =============================================================================
# üìä METRICS CONFIGURATION (API-specific)
# =============================================================================
API_METRICS_ENABLED=true                               # üü° OPTIONAL (default: true)
API_METRICS_SLOW_REQUEST_THRESHOLD_MS=1000             # üü° OPTIONAL (default: 1000ms)
API_METRICS_SLOW_AUTH_THRESHOLD_MS=2000                # üü° OPTIONAL (default: 2000ms)

# =============================================================================
# üî¥ REDIS CONFIGURATION (Optional - Shared)
# =============================================================================
HOSPEDA_REDIS_URL=redis://localhost:6379               # üü° OPTIONAL - Redis connection URL

# =============================================================================
# üîß TODO-LINEAR INTEGRATION (Package-specific)
# =============================================================================
LINEAR_API_KEY=lin_api_your_key_here              # üü° OPTIONAL - Linear API key
LINEAR_TEAM_ID=your-team-id-here                  # üü° OPTIONAL - Linear team ID
TODO_LINEAR_DEFAULT_USER_EMAIL=your-email@example.com  # üü° OPTIONAL - Default user email
TODO_LINEAR_DEFAULT_USER_NAME=your-name                # üü° OPTIONAL - Default user name

# =============================================================================
# üß™ TESTING CONFIGURATION
# =============================================================================
TESTING_RATE_LIMIT=false                               # üü° OPTIONAL - Enable rate limiting in tests
DEBUG_TESTS=false                                      # üü° OPTIONAL - Enable debug logging in tests
COMMIT_SHA=unknown                                     # üü° OPTIONAL - Git commit SHA for version info