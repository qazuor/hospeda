{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://hospeda.dev/schemas/hooks.schema.json",
  "title": "Hooks Configuration",
  "description": "JSON Schema for Claude Code hooks configuration",
  "type": "object",
  "required": ["metadata", "hooks"],
  "properties": {
    "metadata": {
      "type": "object",
      "required": ["version"],
      "properties": {
        "version": {"type": "string", "pattern": "^\\d+\\.\\d+(\\.\\d+)?$"},
        "lastUpdated": {"type": "string", "format": "date-time"}
      }
    },
    "hooks": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id", "name", "event", "status"],
        "properties": {
          "id": {"type": "string", "pattern": "^HOOK-\\d{3}$"},
          "name": {"type": "string"},
          "event": {"type": "string", "enum": ["PreToolUse", "PostToolUse", "Stop"]},
          "matcher": {"type": "string", "description": "Tool matcher pattern (e.g., Edit|Write)"},
          "purpose": {"type": "string"},
          "command": {"type": "string"},
          "timeout": {"type": "integer", "minimum": 1000, "maximum": 600000},
          "status": {"type": "string", "enum": ["approved", "rejected", "pending"]},
          "userDecision": {"type": "string"},
          "benefits": {"type": "array", "items": {"type": "string"}},
          "tradeoffs": {"type": "array", "items": {"type": "string"}},
          "performanceImpact": {"type": "string", "enum": ["low", "medium", "high"]},
          "implementationNotes": {"type": "string"}
        }
      }
    }
  }
}
