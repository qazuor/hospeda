# =============================================================================
# Hospeda API Environment Configuration
# =============================================================================

# Server Configuration
NODE_ENV=development
API_PORT=3001
API_HOST=localhost

# Logging Configuration
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
API_LOG_INCLUDE_TIMESTAMPS=true
API_LOG_INCLUDE_LEVEL=true
API_LOG_USE_COLORS=true
API_LOG_SAVE=false
API_LOG_EXPAND_OBJECT_LEVELS=false
API_LOG_TRUNCATE_LONG_TEXT=true
API_LOG_TRUNCATE_LONG_TEXT_AT=1000
API_LOG_STRINGIFY_OBJECTS=false

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:4173
# Set to 'true' to allow credentials (cookies, auth headers)
CORS_ALLOW_CREDENTIALS=true
# Max age for preflight requests in seconds (24 hours)
CORS_MAX_AGE=86400
# Comma-separated list of allowed HTTP methods
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
# Comma-separated list of allowed request headers
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Requested-With
# Comma-separated list of headers to expose in responses
CORS_EXPOSE_HEADERS=Content-Length,X-Request-ID

# Cache Configuration
# Enable/disable caching middleware
CACHE_ENABLED=true
# Default max age for cached responses in seconds (5 minutes)
CACHE_DEFAULT_MAX_AGE=300
# Stale while revalidate time in seconds (1 minute)
CACHE_DEFAULT_STALE_WHILE_REVALIDATE=60
# Stale if error time in seconds (24 hours)
CACHE_DEFAULT_STALE_IF_ERROR=86400
# Comma-separated list of endpoints that should be cached publicly
CACHE_PUBLIC_ENDPOINTS=/api/v1/public/accommodations,/health
# Comma-separated list of endpoints that should be cached privately
CACHE_PRIVATE_ENDPOINTS=/api/v1/public/users
# Comma-separated list of endpoints that should not be cached
CACHE_NO_CACHE_ENDPOINTS=/health/db,/docs
# Enable ETag generation for conditional requests
CACHE_ETAG_ENABLED=true
# Enable Last-Modified headers
CACHE_LAST_MODIFIED_ENABLED=true

# Compression Configuration
# Enable/disable compression middleware
COMPRESSION_ENABLED=true
# Compression level (1-9, higher = better compression but slower)
COMPRESSION_LEVEL=6
# Minimum response size in bytes to compress (1KB)
COMPRESSION_THRESHOLD=1024
# Chunk size for compression in bytes (16KB)
COMPRESSION_CHUNK_SIZE=16384
# Comma-separated list of content types to compress
COMPRESSION_FILTER=text/*,application/json,application/xml,application/javascript
# Comma-separated list of endpoints to exclude from compression
COMPRESSION_EXCLUDE_ENDPOINTS=/health/db,/docs
# Comma-separated list of compression algorithms (gzip,deflate,br)
COMPRESSION_ALGORITHMS=gzip,deflate

# Rate Limiting Configuration
# Enable/disable rate limiting middleware
RATE_LIMIT_ENABLED=true
# Rate limit window in milliseconds (15 minutes)
RATE_LIMIT_WINDOW_MS=900000
# Maximum number of requests per window
RATE_LIMIT_MAX_REQUESTS=100
# Key generator type (ip, user, custom)
RATE_LIMIT_KEY_GENERATOR=ip
# Skip rate limiting for successful requests
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
# Skip rate limiting for failed requests
RATE_LIMIT_SKIP_FAILED_REQUESTS=false
# Include standard rate limit headers
RATE_LIMIT_STANDARD_HEADERS=true
# Include legacy rate limit headers
RATE_LIMIT_LEGACY_HEADERS=false
# Custom error message for rate limit exceeded
RATE_LIMIT_MESSAGE=Too many requests, please try again later.

# Internationalization Configuration
SUPPORTED_LOCALES=en,es
DEFAULT_LOCALE=en

# Validation Configuration
# Maximum request body size in bytes (10MB)
VALIDATION_MAX_BODY_SIZE=10485760
# Maximum request time in milliseconds (30s)
VALIDATION_MAX_REQUEST_TIME=30000
# Comma-separated list of allowed content types
VALIDATION_ALLOWED_CONTENT_TYPES=application/json,multipart/form-data
# Comma-separated list of required headers
VALIDATION_REQUIRED_HEADERS=user-agent
# Enable/disable Clerk authentication validation
VALIDATION_CLERK_AUTH_ENABLED=true
# Comma-separated list of Clerk auth required headers
VALIDATION_CLERK_AUTH_HEADERS=authorization
# Enable/disable sanitization
VALIDATION_SANITIZE_ENABLED=true
# Maximum string length for sanitization
VALIDATION_SANITIZE_MAX_STRING_LENGTH=1000
# Remove HTML tags during sanitization
VALIDATION_SANITIZE_REMOVE_HTML_TAGS=true
# Allowed characters regex for sanitization
VALIDATION_SANITIZE_ALLOWED_CHARS=[\\w\\s\\-.,!?@#$%&*()+=]

# Security Configuration
# Enable/disable security middleware
SECURITY_ENABLED=true
# Enable/disable security headers
SECURITY_HEADERS_ENABLED=true


# Content Security Policy
SECURITY_CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';
# Strict Transport Security header
SECURITY_STRICT_TRANSPORT_SECURITY=max-age=31536000; includeSubDomains
# X-Frame-Options header (DENY, SAMEORIGIN, ALLOW-FROM)
SECURITY_X_FRAME_OPTIONS=SAMEORIGIN
# X-Content-Type-Options header
SECURITY_X_CONTENT_TYPE_OPTIONS=nosniff
# X-XSS-Protection header
SECURITY_X_XSS_PROTECTION=1; mode=block
# Referrer Policy header
SECURITY_REFERRER_POLICY=strict-origin-when-cross-origin
# Permissions Policy header
SECURITY_PERMISSIONS_POLICY=camera=(), microphone=(), geolocation=()

# Response Formatting Configuration
# Enable/disable response formatting middleware
RESPONSE_FORMAT_ENABLED=true
# Include timestamp in response metadata
RESPONSE_INCLUDE_TIMESTAMP=true
# Include API version in response metadata
RESPONSE_INCLUDE_VERSION=true
# API version string
RESPONSE_API_VERSION=1.0.0
# Include request ID in response metadata
RESPONSE_INCLUDE_REQUEST_ID=true
# Include metadata in responses
RESPONSE_INCLUDE_METADATA=true
# Default success message
RESPONSE_SUCCESS_MESSAGE=Success
# Default error message
RESPONSE_ERROR_MESSAGE=An error occurred

# Database Configuration (optional)
# DATABASE_URL=postgresql://user:password@localhost:5432/hospeda

# Auth Configuration (optional)
# CLERK_PUBLISHABLE_KEY=pk_test_...
# CLERK_SECRET_KEY=sk_test_...
#CLERK_WEBHOOK_SECRET


