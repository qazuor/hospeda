---
import PostListPage from '@/components/pages/PostListPage.astro';
import { getBlogIndexUrlWithPage } from '@/utils/urls';

const page = Number(Astro.url.searchParams.get('page')) || 1;

// Redirect to new pagination URL structure if page > 1
if (page > 1) {
    return Astro.redirect(getBlogIndexUrlWithPage(page));
}
---

<PostListPage page={1} locals={Astro.locals} />
