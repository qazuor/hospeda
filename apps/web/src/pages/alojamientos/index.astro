---
export const prerender = true;

import AccommodationListPage from '@/components/pages/AccommodationListPage.astro';
import { getAccommodationsIndexUrlWithPage } from '@/utils/urls';

const page = Number(Astro.url.searchParams.get('page')) || 1;

// Redirect to new pagination URL structure if page > 1
if (page > 1) {
    return Astro.redirect(getAccommodationsIndexUrlWithPage(page));
}
---

<AccommodationListPage page={1} locals={Astro.locals} />
