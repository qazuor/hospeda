---
import EventListPage from '@/components/pages/EventListPage.astro';
import { getEventsIndexUrlWithPage } from '@/utils/urls';

const page = Number(Astro.url.searchParams.get('page')) || 1;

// Redirect to new pagination URL structure if page > 1
if (page > 1) {
    return Astro.redirect(getEventsIndexUrlWithPage(page));
}
---

<EventListPage page={1} locals={Astro.locals} />
