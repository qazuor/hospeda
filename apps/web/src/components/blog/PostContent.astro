---
import { formatDate } from '@/utils';
import { EventIcon } from '@repo/icons';
import type { Post } from '@repo/schemas';

const { post }: { post: Post } = Astro.props;

const formattedDate = post.createdAt ? formatDate(new Date(post.createdAt)) : '';
---

<article class='prose prose-lg max-w-none dark:prose-invert'>
    <header class='mb-6 border-b border-gray-200 dark:border-gray-700 pb-4'>
        <h1 class='heading-lg mb-2'>{post.name}</h1>
        <p class='text-muted flex items-center gap-1'>
            <EventIcon class='w-4 h-4' />
            {formattedDate}
        </p>
    </header>

    {
        post.featuredImage?.url && (
            <img src={post.featuredImage.url} alt={post.name} class='w-full h-auto rounded-md mb-6' loading='lazy' />
        )
    }

    <div class='content' set:html={post.content || '<p>Contenido no disponible.</p>'} />
</article>
