---
// Popular destinations component
import { getDestinations } from '@/data/destinations';
const destinations = await getDestinations();
---

<section class='py-16 bg-gray-50 dark:bg-gray-900'>
    <div class='container mx-auto px-4'>
        <div class='text-center mb-12'>
            <h2 class='text-3xl font-bold mb-4'>Destinos populares</h2>
            <p class='text-gray-600 dark:text-gray-400 max-w-2xl mx-auto'>
                Explora los lugares más atractivos de la costa del río Uruguay en Entre Ríos y encuentra el alojamiento
                perfecto para tus vacaciones.
            </p>
        </div>

        <div class='grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6'>
            {
                destinations.slice(0, 4).map((destination) => (
                    <a href={`/destinos/${destination.id}`} class='group'>
                        <div class='relative rounded-lg overflow-hidden shadow-md h-64 transform transition duration-300 group-hover:shadow-xl group-hover:-translate-y-1'>
                            <img
                                src={
                                    destination.media?.featuredImage?.url ||
                                    'https://images.pexels.com/photos/208701/pexels-photo-208701.jpeg'
                                }
                                alt={`Destino turístico ${destination.displayName}`}
                                class='w-full h-full object-cover transition duration-300 group-hover:scale-105'
                            />
                            <div class='absolute inset-0 bg-gradient-to-t from-black/70 to-transparent' />
                            <div class='absolute bottom-0 left-0 p-4 text-white'>
                                <h3 class='text-xl font-bold mb-1'>{destination.displayName}</h3>
                                <p class='text-sm opacity-90'>{destination._count?.accommodations || 0} alojamientos</p>
                            </div>
                        </div>
                    </a>
                ))
            }
        </div>

        <div class='text-center mt-10'>
            <a href='/destinos' class='btn-outline dark:text-white text-gray-900'> Ver todos los destinos </a>
        </div>
    </div>
</section>
